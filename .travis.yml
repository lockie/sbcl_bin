language: c
sudo: false

env:
  global:
   - PATH=~/.roswell/bin:$PATH
   - ROSWELL_BRANCH=master
   - ROSWELL_INSTALL_DIR=$HOME/.roswell
   - LISP=sbcl-bin
   - TARGET=x86-64
  matrix:
    - VERSION=d5cc2bb3b56f290d2c384eac1e74afb682e525ba SALT=27
    - VERSION=d5cc2bb3b56f290d2c384eac1e74afb682e525ba SALT=28
    - VERSION=d5cc2bb3b56f290d2c384eac1e74afb682e525ba SALT=29
    - VERSION=bf71cdc0ce148595433c3400a283eede1e49d3de SALT=30
    - VERSION=bf71cdc0ce148595433c3400a283eede1e49d3de SALT=31
    - VERSION=bf71cdc0ce148595433c3400a283eede1e49d3de SALT=32
    - VERSION=ed121de1ddcf86cdabe189a82b453a4d7ff5f13e SALT=33
    - VERSION=ed121de1ddcf86cdabe189a82b453a4d7ff5f13e SALT=34
    - VERSION=ed121de1ddcf86cdabe189a82b453a4d7ff5f13e SALT=35
    - VERSION=a25fe9ec14a7d70e82156878bc4db5ac7f49951b SALT=36
    - VERSION=a25fe9ec14a7d70e82156878bc4db5ac7f49951b SALT=37
    - VERSION=a25fe9ec14a7d70e82156878bc4db5ac7f49951b SALT=38
    - VERSION=d3057bdd48ae6120fd4b69980755ae7905f2754c SALT=39
    - VERSION=d3057bdd48ae6120fd4b69980755ae7905f2754c SALT=40
    - VERSION=d3057bdd48ae6120fd4b69980755ae7905f2754c SALT=41
    - VERSION=e1cc5ade7261939681dca57c5ee6d53d52e9bb1d SALT=42
    - VERSION=e1cc5ade7261939681dca57c5ee6d53d52e9bb1d SALT=43
    - VERSION=e1cc5ade7261939681dca57c5ee6d53d52e9bb1d SALT=44
    - VERSION=658cad0fcb0625ffee313889a5eb5904ac0d02ad SALT=45
    - VERSION=658cad0fcb0625ffee313889a5eb5904ac0d02ad SALT=46
    - VERSION=658cad0fcb0625ffee313889a5eb5904ac0d02ad SALT=47
    - VERSION=1.3.15 SALT=48
    - VERSION=1.3.15 SALT=49
    - VERSION=1.3.15 SALT=50

os:
  - osx

addons:
  apt:
    packages:
      - lib32z1-dev
      - gcc-multilib

install:
  - curl -L https://raw.githubusercontent.com/roswell/roswell/$ROSWELL_BRANCH/scripts/install-for-ci.sh | sh
  - if ! which lake ; then ros install snmsts/sn.github Rudolph-Miller/cl-gists lake;lake-tools dump; fi

script:
  - lake
